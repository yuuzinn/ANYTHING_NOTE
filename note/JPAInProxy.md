JPA에서 한참 지연로딩(LAZY)때문에 들어봤던 그 프록시는 무엇인가?

### 프록시 (PROXY)

JPA는 객체지향언어, RDB의 **패러다임 불일치**를 해결하는 기술이다.<br>
>데이터베이스는 데이터 중심으로 구조화되어있다. 객체의 상속, 다형성 같은 개념이없다. 
>그렇다보니 객체와 데이터베이스가 지향하는 점이 다르다. 이것을 객체와 데이터베이스의 **패러다임 불일치**라고 한다.

프록시가 이 문제에 도움을 주는데 어떤 부분에서 도움을 주는지?

객체는 `team1.getMembers().get(0);` 이러한 방식으로 연관된 객체들을 찾을 수 있는 반면에
RDB의 경우는 참조하는 외래키를 통해서 테이블 간 Join 쿼리를 작성해 찾아야 한다.

그래서 _이렇게 다 가져오다 보니 연관된 데이터(객체)를 안 쓰는 것까지(쓸 수도 있고? 모름) 다 가져와야 한다._

이 문제는 프록시로 해결한다.

프록시는 실제 연관된 객체를 즉시 JOIN을 통해 DB로부터 가져오는 것이 아니다. 
앞서 프록시 객체들을 두어서 실제 사용되는 시점에 DB를 조회해서 가져오는 기술이다.

그래서 연관된 객체를 가져오는 시점을 지연시키는 로딩 전략을 지연 로딩(LAZY)라 부르고, 
프록시 기술 없이 연관된 객체를 즉시 가져오도록 하는 로딩 전략을 즉시 로딩(EAGER)라 부른다.

프록시 객체는 **실제 객체에 대해 참조를 보관하고 있다가 실제로 사용될 때 프록시 객체가
실제 객체의 메서드를 호출하는 방식으로 사용**된다.

프록시 객체가 실제 객체에 대해 참조를 안 하고 있을 때도 있는데, 그 때는 영속성 컨텍스트에
실제 객체를 조회하고 영속성 컨텍스트에서 없으면 DB를 조회해서 실제 객체를 생성한다.
그렇게 된다면 프록시 객체는 참조를 얻게 되고, 위와 같이 메서드를 호출한다.

프록시 객체의 초기화는 프록시 객체가 실제 Entity 객체를 생성하는 작업을 프록시 객체의 초기화라 한다.