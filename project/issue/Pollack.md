### 이슈

> 02.22 이슈가 있었다.

main 화면에서 현재 대기열 수와 내 순번은 몇 번째인지 보여주는 값이 늦게 나왔다.

그니까 다시 정리하자면, main 화면을 띄우면 같이 화면에 한번에 나와야 하는 게, 현재 대기열 수와 내 순번 값은 대략 10초? 정도 뒤에 나타난다는 것이다. 개발자 도구에서도 보면 total-team(현재 대기열 수와 내 순번) 값이 뒤늦게 나타나는 것을 확인했다.

서버 컴퓨터가 느린지, 아니면 client 화면의 렌더링이 느린 건지 확인했지만 결론적으로 둘 다 아니었다.

nginx 의 문제였다. nginx와 boot 사이에 버퍼가 있는데, 그 버퍼 안에 데이터 값을 모아두고 데이터를 쏴주기 때문에 그 10초정도 뒤에 나타난 것이었다. http 1.0 에서는 그러한 방식을 사용하는데, http 1.1에서는 바로 쏠 수 있어서 버전을 바꾸니 이 현상을 해결하게 되었다.

nginx와 http1.0, 1.1에 대해서 알 필요가 있어 보인다.

